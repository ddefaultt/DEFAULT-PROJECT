<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„ØªØ­Ù‚Ù‚</title>
</head>
<body>

<h1>ğŸ” Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</h1>
<input type="text" id="codeInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯">
<button onclick="checkCode()">Ø¯Ø®ÙˆÙ„</button>
<p id="status" style="color:red;"></p>

<script>
if(localStorage.getItem("access_code") === "granted"){
    window.location.href = "main.html";
}

async function checkCode(){
    const userCode = document.getElementById("codeInput").value;
    try {
        const res = await fetch("codes.json");
        const data = await res.json();

        if(data.codes.includes(userCode)){
            localStorage.setItem("access_code", "granted");
            window.location.href = "main.html";
        } else {
            document.getElementById("status").innerText = "âŒ Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­";
        }
    } catch(e){
        document.getElementById("status").innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒÙˆØ¯Ø§Øª";
    }
}
</script>

</body>
</html>
